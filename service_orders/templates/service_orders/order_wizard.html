{% extends "core/base.html" %}
{% load crispy_forms_tags %}
{% block title %}{% if is_edit %}Editar Pedido — Etapa{% else %}Novo Pedido — Etapas{% endif %}{% endblock %}
{% block content %}
<div class="bg-white rounded-lg shadow-md p-0 overflow-hidden">
  <div class="flex items-center justify-between px-4 py-3 border-b border-gray-200">
    <h1 class="text-lg font-semibold text-secondary">{% if is_edit %}Editar Pedido{% else %}Novo Pedido{% endif %}</h1>
    <div class="flex gap-1" aria-label="Etapas">
      <span class="w-2 h-2 rounded-full bg-primary"></span>
      <span class="w-2 h-2 rounded-full bg-gray-300"></span>
      <span class="w-2 h-2 rounded-full bg-gray-300"></span>
    </div>
  </div>

  <form method="post">
    {% csrf_token %}

    <!-- Wrapper do carrossel -->
    <div class="relative w-full overflow-hidden" id="carousel">
      <div id="slides" class="flex w-full transition-transform duration-300 ease-in-out">
        <!-- Slide único (Etapa 1): Data -->
        <section class="w-full p-4 space-y-4">
          <h2 class="text-base font-medium text-secondary">Identificação</h2>
          <div class="form-styled">
            <p>
              <label for="id_order_date">Data</label>
              {{ form.order_date }}
            </p>
          </div>
        </section>
      </div>
    </div>

    <!-- Controles -->
    <div class="flex items-center justify-between px-4 py-3 border-t border-gray-200">
      <a href="{% if is_edit %}{% url 'service_orders:order_detail' order.id %}{% else %}{% url 'service_orders:order_list' %}{% endif %}"
         class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-secondary rounded-md">Voltar</a>
      <button type="submit" class="px-4 py-2 bg-primary hover:bg-primary/90 text-secondary rounded-md">Avançar</button>
    </div>
  </form>
</div>

<style>
  .form-styled p { margin-bottom: 1rem; }
  .form-styled label { display:block; font-size: 0.875rem; font-weight: 500; color:#374151; margin-bottom: .25rem; }
  .form-styled input, .form-styled select, .form-styled textarea { width:100%; border-radius:.375rem; border-color:#d1d5db; box-shadow:0 1px 2px 0 rgba(0,0,0,.05); }
  .form-styled input:focus, .form-styled select:focus, .form-styled textarea:focus { border-color:#FFD100; outline: none; box-shadow:0 0 0 3px rgba(255,209,0,.2); }
  /* Radios crispy podem vir em <ul>; manter simples */
  .form-styled ul { display:flex; gap:1rem; }
  .form-styled li { list-style:none; }
</style>

<script>
  (function() {
    // nada necessário no passo único
  })();
</script>
{% endblock %}
